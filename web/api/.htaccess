RewriteEngine On

# Handle contacts API with path parameters
RewriteRule ^contacts/([0-9]+)/?$ contacts/index.php [NC,L,QSA]

# Handle contacts API without path parameters
RewriteRule ^contacts/?$ contacts/index.php [NC,L,QSA]

# Remove .php extension from URLs
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^([^\.]+)$ $1.php [NC,L]

# Handle media API specifically
RewriteRule ^media/view$ media/view.php [NC,L]
